package Validator;

public class RangeValidator<T> extends BaseValidator<T> {
    
    private Comparable<T> min;
    private Comparable<T> max;

    public RangeValidator(Comparable<T> min, Comparable<T> max) {
        this.min = min;
        this.max = max;
    }

    @Override
    @SuppressWarnings("unchecked")
    public void validate(T value) throws Exception {
        errors.clear();
        if (value == null) {
            String msg = "Wert darf nicht null sein.";
            errors.add(msg);
            throw new Exception(msg);
        }

        if (!(value instanceof Comparable)) {
            String msg = "Wert ist nicht vergleichbar.";
            errors.add(msg);
            throw new Exception(msg);
        }

        Comparable<T> compValue = (Comparable<T>) value;

        if (min != null && compValue.compareTo((T) min) < 0) {
            String msg = "Wert ist kleiner als das Minimum: " + min;
            errors.add(msg);
            throw new Exception(msg);
        }

        if (max != null && compValue.compareTo((T) max) > 0) {
            String msg = "Wert ist größer als das Maximum: " + max;
            errors.add(msg);
            throw new Exception(msg);
        }
    }
}
